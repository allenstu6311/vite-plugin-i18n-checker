---
alwaysApply: true
---
description: "全域規則：定義此專案的技術棧、架構原則、代碼風格與 AI 行為規範"
globs:
  - "**/*.ts"
  - "**/*.js"
  - "**/*.json"
  - "**/*.yaml"
  - "**/*.yml"
---

# 🧭 專案背景
- 基於 Vite 的 i18n 語系檢查工具  
- 主要檢查翻譯檔案的 key 完整性  
- 支援 TypeScript、JavaScript、JSON、YAML 格式  

---

# ⚙️ 技術棧
- TypeScript  
- Node.js  
- Babel AST 解析  
- Vitest 測試  

---

# ✍️ 代碼風格
- 使用中文註解，確保邏輯清楚易懂  
- 採用函數式編程風格，盡量避免副作用  
- 模組化設計，單一模組職責明確  
- 錯誤處理優先，保證異常情況可追蹤  

---

# 🧩 架構原則
- 狀態管理以閉包為主，避免全域狀態污染  
- 禁止使用全域變數或全域單例物件  
- 所有解析邏輯需支援遞迴結構  
- 錯誤處理需完整覆蓋所有流程（解析、比對、輸出）  

---

# 🤖 AI 行為規範
> 這些規範會影響 AI 在本專案中對程式的操作方式

- 除非用戶明確要求「修改代碼」、「實現功能」、「寫代碼」等指令，否則 **AI 僅提供分析、建議與討論**。  
- 當用戶詢問「認為」、「討論」、「分析」、「有什麼問題」等問題時，**只提供文字分析，不執行任何代碼修改**。  
- 在修改代碼前，**AI 必須先詢問用戶確認**。  
- 回覆時應保持技術嚴謹與簡潔，不自動生成過多無關內容。  